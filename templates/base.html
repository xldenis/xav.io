<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        {% block head %}
            <title>xavxav {% if title %} - {{ title }} {% endif %}</title>
        {% endblock %}
        <link rel="stylesheet" href="{{ get_url(path='default.css') | safe }}" />
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,900' rel='stylesheet' type='text/css'>
        {% block rss %}
          <link rel="alternate" type="application/rss+xml" title="RSS" href="{{ get_url(path="rss.xml", trailing_slash=false) }}">
        {% endblock %}

        {% block atom %}
          <link rel="alternate" type="application/atom+xml" title="Atom" href="{{ get_url(path="atom.xml", trailing_slash=false) }}">
        {% endblock %}
    </head>
    <body>
        <main role="main">

        <header>
            <nav>
                <h1 class="logo"><a href="/">xavxav</a></h1>
                <a href="/blog">blog</a>
                <a href="/about">about</a>
            </nav>
            <input type="checkbox" id="theme-switch">
            <label for="theme-switch" id="switch-label"></label>
        </header>

            {% block content %} {% endblock %}

        </main>
    </body>
    <script type="text/javascript">
        // This code is only used to remember theme selection
        const themeSwitch = document.querySelector("#theme-switch");
        themeSwitch.checked = localStorage.getItem("switchedTheme") === "true";

        themeSwitch.addEventListener("change", function (e) {
          if(e.currentTarget.checked === true) {
            // Add item to localstorage
            localStorage.setItem("switchedTheme", "true");
          } else {
            // Remove item if theme is switched back to normal
            localStorage.removeItem("switchedTheme");
          }
        });
    </script>
</html>
